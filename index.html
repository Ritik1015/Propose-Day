<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">

  <!-- üî• CACHE BUSTING (PREVIEW ISSUE FIX) -->
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />

  <title>For Bhavya ‚ù§Ô∏è v3</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    * { box-sizing: border-box; }

    body {
      margin: 0;
      height: 100vh;
      background: linear-gradient(120deg, #ffd6e8, #fff);
      overflow: hidden;
      font-family: 'Segoe UI', sans-serif;
    }

    h1 {
      text-align: center;
      margin-top: 20px;
      color: #d63384;
      user-select: none;
    }

    .paper {
      width: 320px;
      min-height: 200px;
      background: #fffdf5;
      position: absolute;
      top: 180px;
      left: 40px;
      padding: 22px;
      border-radius: 10px;
      box-shadow: 0 18px 35px rgba(0,0,0,0.25);
      cursor: grab;
      user-select: none;
      touch-action: none;
      transition: transform 0.2s ease;
    }

    .paper:active {
      cursor: grabbing;
      transform: scale(1.04);
    }

    .paper * {
      pointer-events: none;
    }

    .hidden {
      display: none;
    }

    .proposal {
      text-align: center;
      font-size: 18px;
    }

    .proposal h2 {
      color: #d63384;
      margin-bottom: 10px;
    }

    .buttons {
      margin-top: 20px;
    }

    .buttons button {
      padding: 10px 22px;
      font-size: 16px;
      margin: 10px;
      border: none;
      border-radius: 25px;
      cursor: pointer;
    }

    .yes {
      background: #ff4d88;
      color: #fff;
    }

    .no {
      background: #ddd;
    }

    audio { display: none; }
  </style>
</head>

<body>

<h1>Just drag the papers üíå</h1>

<!-- PAPER 1 -->
<div class="paper" style="transform: rotate(-2deg);" data-next="paper2">
  Hey Bhavya ‚ù§Ô∏è<br><br>
  Ek baat kehni thi‚Ä¶<br>
  Jo kaafi time se dil mein hai.
</div>

<!-- PAPER 2 -->
<div id="paper2" class="paper hidden" style="transform: rotate(1deg);" data-next="paper3">
  Jab bhi main thoda sa bhi haarne lagta hoon na‚Ä¶<br><br>
  Tera khayal mujhe phir se strong bana deta hai.
</div>

<!-- PAPER 3 -->
<div id="paper3" class="paper hidden" style="transform: rotate(-1deg);" data-next="paper4">
  Shayad tumhe andaza bhi nahi‚Ä¶<br><br>
  Par tum meri zindagi ka sabse khoobsurat hissa ho.
</div>

<!-- PAPER 4 -->
<div id="paper4" class="paper hidden" style="transform: rotate(0deg);" data-next="proposal">
  Har choti badi khushi,<br>
  har mushkil,<br>
  har sapna‚Ä¶<br><br>
  Main sab kuch tumhare saath jeena chahta hoon.
</div>

<!-- FINAL PROPOSAL -->
<div id="proposal" class="paper hidden proposal">
  <h2>Bhavya üíñ</h2>
  Tum sirf meri pasand nahi,<br>
  meri aadat ban chuki ho.<br><br>

  <strong>Will you be mine forever? üíç</strong>

  <div class="buttons">
    <button class="yes" onclick="yesClicked()">YES ‚ù§Ô∏è</button>
    <button class="no" onclick="moveNo(this)">NO üò¢</button>
  </div>
</div>

<!-- MUSIC (CACHE BUSTED) -->
<audio autoplay loop>
  <source src="song.mp3?v=3" type="audio/mpeg">
</audio>

<script>
  let activePaper = null;
  let offsetX = 0;
  let offsetY = 0;

  document.querySelectorAll('.paper').forEach(paper => {
    paper.addEventListener('pointerdown', e => {
      activePaper = paper;
      paper.setPointerCapture(e.pointerId);
      offsetX = e.clientX - paper.offsetLeft;
      offsetY = e.clientY - paper.offsetTop;
    });

    paper.addEventListener('pointermove', e => {
      if (!activePaper) return;
      paper.style.left = (e.clientX - offsetX) + 'px';
      paper.style.top  = (e.clientY - offsetY) + 'px';
    });

    paper.addEventListener('pointerup', () => {
      const next = paper.getAttribute('data-next');
      if (next) {
        paper.classList.add('hidden');
        document.getElementById(next).classList.remove('hidden');
      }
      activePaper = null;
    });
  });

  function moveNo(btn) {
    btn.style.position = 'absolute';
    btn.style.left = Math.random() * 220 + 'px';
    btn.style.top  = Math.random() * 120 + 'px';
  }

  function yesClicked() {
    document.body.innerHTML = `
      <h1 style="margin-top:40vh;color:#d63384;">
        She said YES üíç‚ù§Ô∏è
      </h1>
    `;
  }
</script>

</body>
</html>
